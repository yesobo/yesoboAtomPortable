var checkAll, fs, rules;

fs = require('fs');

exports.rules = rules = [];

(function() {
  var file, files, i, len, results;
  files = fs.readdirSync(__dirname);
  results = [];
  for (i = 0, len = files.length; i < len; i++) {
    file = files[i];
    if (file !== 'index.coffee' && file !== 'index.js') {
      results.push(rules[file.split('.').slice(0, -1).join('.')] = require("./" + file));
    }
  }
  return results;
})();

exports.checkAll = checkAll = function(filename, node) {
  var e, errors, name, rule;
  errors = [];
  for (name in rules) {
    rule = rules[name];
    try {
      rule = new rule(filename, node);
      rule.check();
    } catch (_error) {
      e = _error;
      errors.push(e);
    }
  }
  return errors;
};
